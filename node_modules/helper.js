var chalk=require('chalk');
exports.renderPage=function(app,fs,res,io,connection,pageName,param)//in js we do not need to give data type of formal parameters in functions
//also know that when we
{
  //one important factor while rendering pages is that you just cannot render pages

  switch(pageName)
  {
    case 'index':
    {
      //This is like the home where all the current or rencent feeds will be shown
      console.log(chalk.blue('param now is:'+param.email));//DEBUG
      console.log(chalk.blue('helper func():index page to be rendered'));//DEBUG
      //var paramObj=JSON.parse(param);
      //this above line is for parsing the JSON that comes inside.
      connection.query("SELECT * FROM friends WHERE uid=?",[param.uid],function(err,results,fields){//getting the uid property of the object
        if(Object.keys(results).length>0)
        {
          res.render('index',{page:pageName,content:Object.keys(results).length});//wrt index page content stands for only the number
          //of friends
        }
        else {//no friends found and hence nothing to display
          // res.render('indexNULL');//index is another view mind you
          res.render('index',{page:pageName,content:0});

        }
      });
      break;
    }

    case 'tours':
    {
      console.log(chalk.green("helper func():tours page being rendered"));//DEBUG
      res.render('tours',{page:pageName});
      break;
    }
    case 'parties':
    {
      console.log(chalk.green("helper func():parties page being rendered"));//DEBUG
      res.render('parties',{page:pageName});
      break;
    }
    case 'profile':
    {
      console.log(chalk.green('helper func():profile page to be rendered'));//DEBUG
      // console.log("param, email:"+param.email);
      var name=param.name;
      var email=param.email;
      var dob=param.dob;
      var tourNum=param.tourNum;
      var partyNum=param.partyNum;
      var friends=param.friends;
      res.render('profile',{page:pageName,name:name,email:email,dob:dob,tours:tourNum,parties:partyNum,friends:friends});
      // res.render('index',{page:pageName,content:0});
      break;
    }

  }
};
